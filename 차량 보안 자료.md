교수님 차량에서 사용하는 통신 프로토콜로는
CAN,LIN,FlexRay,MOST,Ethernet이 있으며
각각 다른 대역폭을 사용하여 통신을 하고 있습니다. 
다만 암호화 관련해서는 CAN,LIN,FlexRay의 경우 프로토콜에서 실시간성과 프로토콜 자체에서 가지는 비트수의 제한때문에 암호화를 이용해서 보안을 강화를 하지는 않고 최근들어 딥러닝이나 다른 암호화 기법을 이용하여 패턴 분석 
추가로 CAN의 경우 AES-RSA를 접목한 암호화를 시행한 논문이 하나 있긴합니다. 이 경우 암호화 하는데 걸리는 시간에 대해서 기술을 해놓았습니다.

현업 제품의 경우 V2X 통신 보안 or 단순 보안 솔루션같은 느낌으로 세부사항을 공개하고 있지는 않는 것 같습니다.

추가적으로 

자동차 플렛폼에 탑재가 되어야함
안보 관련 기술은 보안성은 검증된 상태로 알고리즘이 나오는데 이걸 정량지표로 올릴때
이걸 만들어 올렸을때 보안레밸로 올리는게 아니라
이거를 얼마나 빨리 처리하느냐가 문제임
자동차 시큘리티 논문이나 기존 제품에서 이런 알고리즘들이 얼마나 빠른 속도를 가지고 있는지
이런게 있는지 찾아보도록

차량 네트워크 관련 자료 
![[Pasted image 20240327194254.png ||800]]
## 암호 공격 유형

- CAN 네트워크 기반 침해 요소 
![[Pasted image 20240327204206.png | 800]]

-  CAN 통신 기반 커넥티드 카 침해 위협 및 대응방안 연구 자료
https://www.igloo.co.kr/security-information/can-%ED%86%B5%EC%8B%A0-%EA%B8%B0%EB%B0%98-%EC%BB%A4%EB%84%A5%ED%8B%B0%EB%93%9C-%EC%B9%B4-%EC%B9%A8%ED%95%B4-%EC%9C%84%ED%98%91-%EB%B0%8F-%EB%8C%80%EC%9D%91%EB%B0%A9%EC%95%88-%EC%97%B0%EA%B5%AC/
## CAN(**Controller Area Network**) 네트워크  -  CSMA/CA

CAN 메시지에 있는 식별자(ID)의 길이에 따라 두 가지 모드로 구분됩니다.
- 표준 CAN(버전 2.0A): 11비트 식별자
- 확장 CAN(버전 2.0B): 29비트 식별자

ISO 규격에 따라 두 가지로 구분됨.
- ISO 11898: 1Mbps 이상의 고속 통신 가능
- ISO 11519: 125Kbps 까지의 통신 가능

### CAN 프로토콜 구조
![[Pasted image 20240327194710.png | 800]]
대부분의 CAN 2.0A 컨트롤러는 오직 표준 CAN 포맷의 메시지만 전송 및 수신이 가능하며
확장 CAN 포맷(CAN 2.0B)의 메시지를 수신하더라도 그 메시지를 무시함
CAN 2.0B 컨트롤러는 양쪽 메시지 포맷(CAN 2.0A, CAN 2.0B)에 대해 모두 송수신이 가능

### CAN 암호화
### AES
CAN에서 AES를 사용할 때의 주요 단점은 메시지 크기 확장입니다. AES는 128, 192 또는 256비트 데이터 '블록'에서 작동하며 블록 크기가 증가하면 보안 수준도 높아집니다. 암호화하려는 데이터가 1바이트인 경우 해당 데이터를 AES 128의 경우 16바이트, AES 192의 경우 24바이트, AES 256의 경우 32바이트로 채워야 합니다. **1바이트의 단일 CAN 패킷이 이제 , 최소 2패킷, 16바이트로** 160% 증가합니다.

### Design and validation of CAN protocol with enhanced Security in electric vehicle 
일반 텍스트는 AES 알고리즘의 키를 사용해서 암호화 후 AES의 알고리즘 키는 RSA의 알고리즘의 공개키를 사용하여 암호와 함

- 논문에서 제안하는 시스템의 블록도
  ![[Pasted image 20240327201546.png]]
암호화하는 단어의 수와 총 시간 
![[Pasted image 20240327202542.png]]

암호화 하는 단어 하나당 걸리는 시간과 한번에 암호화를 시행한 단어의 수
![[Pasted image 20240327202532.png]]
-> 단어가 증가할수록 효율이 증가한다는데 그럼 적은양의 데이터를 전송할땐 상대적으로 효율이 떨어지는건가

## LIN 프로토콜
### 1.1 LIN이란?
LIN(Local Interconnect Network)이란, 자동차 네트워크에서 컴포넌트들 사이의 통신을 위한 직렬 통신 시스템입니다. LIN은 CAN과 같이 다중화되고 있는 네트워크를 보완하기 위해 고안된 저가형 임베디드 네트워킹의 표준이며, 자동차 업계에서 가장 보편적으로 사용합니다. 대부분의 현대식 저가형 8비트 마이크로컨트롤러에 내장된 표준 시리얼 유니버셜 비동기 송/수신기(UART)를 사용하면 비교적 저렴하게 LIN통신을 구현할 수 있습니다. LIN은 보통 CAN의 고대역폭과 다기능이 필요하지 않은 액추에이터와 스마트 센서들 사이의 통신에 사용됩니다. 파워윈도우 기능, 좌식조절기 기능과 같이 그다지 높은 성능을 필요로하지 않는 기능들을 CAN으로 구현하기에는 많은 비용이 요구되므로, 이러한 기능들을 구현할 때에는 LIN을 사용합니다.